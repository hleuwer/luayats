<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Luayats: src/kernel/data.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>src/kernel/data.h</h1><a href="data_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">*</span>
<a name="l00003"></a>00003 <span class="comment">*               YATS - Yet Another Tiny Simulator</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">**************************************************************************</span>
<a name="l00006"></a>00006 <span class="comment">*</span>
<a name="l00007"></a>00007 <span class="comment">*     Copyright (C) 1995-1997   Chair for Telecommunications</span>
<a name="l00008"></a>00008 <span class="comment">*                               Dresden University of Technology</span>
<a name="l00009"></a>00009 <span class="comment">*                               D-01062 Dresden</span>
<a name="l00010"></a>00010 <span class="comment">*                               Germany</span>
<a name="l00011"></a>00011 <span class="comment">*</span>
<a name="l00012"></a>00012 <span class="comment">**************************************************************************</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*   This program is free software; you can redistribute it and/or modify</span>
<a name="l00015"></a>00015 <span class="comment">*   it under the terms of the GNU General Public License as published by</span>
<a name="l00016"></a>00016 <span class="comment">*   the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00017"></a>00017 <span class="comment">*   (at your option) any later version.</span>
<a name="l00018"></a>00018 <span class="comment">*</span>
<a name="l00019"></a>00019 <span class="comment">*   This program is distributed in the hope that it will be useful,</span>
<a name="l00020"></a>00020 <span class="comment">*   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00021"></a>00021 <span class="comment">*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00022"></a>00022 <span class="comment">*   GNU General Public License for more details.</span>
<a name="l00023"></a>00023 <span class="comment">*</span>
<a name="l00024"></a>00024 <span class="comment">*   You should have received a copy of the GNU General Public License</span>
<a name="l00025"></a>00025 <span class="comment">*   along with this program; if not, write to the Free Software</span>
<a name="l00026"></a>00026 <span class="comment">*   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<a name="l00027"></a>00027 <span class="comment">*</span>
<a name="l00028"></a>00028 <span class="comment">*************************************************************************/</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef _DATA_H_</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define _DATA_H_</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="comment">/*</span>
<a name="l00034"></a>00034 <span class="comment">*       Definition of data classes.</span>
<a name="l00035"></a>00035 <span class="comment">*</span>
<a name="l00036"></a>00036 <span class="comment">*       Unfortunately, derivation relations can not (yet) be examined automatically.</span>
<a name="l00037"></a>00037 <span class="comment">*       If a new data class is added, then therefore a couple of things has to be done:</span>
<a name="l00038"></a>00038 <span class="comment">*</span>
<a name="l00039"></a>00039 <span class="comment">*       1.      Add a new value to the enum dat_typ.</span>
<a name="l00040"></a>00040 <span class="comment">*       2.      The following macros have to be part of each class definition:</span>
<a name="l00041"></a>00041 <span class="comment">*               - BASECLASS(base_class_name): declaration of the base class</span>
<a name="l00042"></a>00042 <span class="comment">*               - CLASS_KEY(dat_typ_value): specification of the associated dat_typ value</span>
<a name="l00043"></a>00043 <span class="comment">*               - NEW_DELETE(number_of_objects_allocated_together): inline new and delete</span>
<a name="l00044"></a>00044 <span class="comment">*                 operators. They decrease the simulation time by approx. 30% and initialize</span>
<a name="l00045"></a>00045 <span class="comment">*                 the 'type' object members.</span>
<a name="l00046"></a>00046 <span class="comment">*               - CLONE(class_name): definition of the method clone() (make a copy of an object)</span>
<a name="l00047"></a>00047 <span class="comment">*       3.      Define the static class member (data *new_class::pool) in data.c,</span>
<a name="l00048"></a>00048 <span class="comment">*               it has been declared by NEW_DELETE().</span>
<a name="l00049"></a>00049 <span class="comment">*       4.      Register the new class in data_classes() (very below). The macro</span>
<a name="l00050"></a>00050 <span class="comment">*               DATA_CLASS(internal_class_name, external_name) uses the information of previous</span>
<a name="l00051"></a>00051 <span class="comment">*               BASECLASS() and CLASS_KEY() statements to examine the derivation relationships.</span>
<a name="l00052"></a>00052 <span class="comment">*       5.      Do not forget to define the method new_class::pdu_len() which returns the</span>
<a name="l00053"></a>00053 <span class="comment">*               logical length of a data item.</span>
<a name="l00054"></a>00054 <span class="comment">*/</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">/*********************************************************************************************/</span>
<a name="l00057"></a>00057 <span class="comment">/*</span>
<a name="l00058"></a>00058 <span class="comment">*       Definition of the data class key values:</span>
<a name="l00059"></a>00059 <span class="comment">*               a value for each class</span>
<a name="l00060"></a>00060 <span class="comment">*/</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">//tolua_begin</span>
<a name="l00063"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b">00063</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>    {
<a name="l00064"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b30e9c95910fa468e5df2f2e3fcff5255">00064</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b30e9c95910fa468e5df2f2e3fcff5255">UnknownType</a> = -1,
<a name="l00065"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b79599280ae8179fa759c3e1939691a11">00065</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b79599280ae8179fa759c3e1939691a11">DataType</a> = 0,
<a name="l00066"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0c72a1f41452e13e2382d689f84c71d9">00066</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0c72a1f41452e13e2382d689f84c71d9">CellType</a> = 1,
<a name="l00067"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b8e1bb91f7775280e1bde2d89c316b383">00067</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b8e1bb91f7775280e1bde2d89c316b383">CellPaylType</a> = 2,
<a name="l00068"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b65a3b8278b58c367305c6131d0e9e1d5">00068</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b65a3b8278b58c367305c6131d0e9e1d5">CellSeqType</a> = 3,
<a name="l00069"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b20ffc60fa87654cf148cfad47382005d">00069</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b20ffc60fa87654cf148cfad47382005d">FrameType</a> = 4,
<a name="l00070"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7be63e171e305fc25d2c981969bd5ba231">00070</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7be63e171e305fc25d2c981969bd5ba231">TCPIPFrameType</a> = 5,
<a name="l00071"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7ba8e7987f56a3fa70e7e7e9979238ce88">00071</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7ba8e7987f56a3fa70e7e7e9979238ce88">TCPACKType</a> = 6,
<a name="l00072"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b92dc41d4883adff4d0b1a4b89c5a5e3b">00072</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b92dc41d4883adff4d0b1a4b89c5a5e3b">RMCellType</a> = 7,
<a name="l00073"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0b0d1d9215b8fea2f6d50383661650c0">00073</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0b0d1d9215b8fea2f6d50383661650c0">AAL5CellType</a> = 8,
<a name="l00074"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b63088c20974fde4cc79c93eeb1bc20ba">00074</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b63088c20974fde4cc79c93eeb1bc20ba">FrameSeqType</a> = 9,
<a name="l00075"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b1895a340a264307668e0206f89be2215">00075</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b1895a340a264307668e0206f89be2215">IsaFrameType</a> = 10,
<a name="l00076"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b6d648409c67db6e5122a6b52e9e70a6a">00076</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b6d648409c67db6e5122a6b52e9e70a6a">DQDBSlotType</a> = 11, 
<a name="l00077"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b72961e5bcd20be0a83bdd8b0e58cd2b6">00077</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b72961e5bcd20be0a83bdd8b0e58cd2b6">DMPDUSegType</a> = 12,
<a name="l00078"></a>00078   <span class="comment">// include new values before _end_type, and adjust _end_type.</span>
<a name="l00079"></a><a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b9aaa3fb626a4e12decbd537b9cd6a126">00079</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b9aaa3fb626a4e12decbd537b9cd6a126">_end_type</a> = 13
<a name="l00080"></a>00080 } <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b">dat_typ</a>;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="comment">// =============================================================================</span>
<a name="l00083"></a>00083 <span class="comment">// Basic data class</span>
<a name="l00084"></a>00084 <span class="comment">// =============================================================================</span>
<a name="l00085"></a><a class="code" href="classdata.html">00085</a> <span class="keyword">class   </span><a class="code" href="classdata.html">data</a>    {
<a name="l00086"></a>00086 <span class="keyword">public</span>:
<a name="l00087"></a>00087 <span class="comment">//tolua_end</span>
<a name="l00088"></a>00088   
<a name="l00089"></a>00089   <a class="code" href="classdata.html#3d9caf277f7741df4bc31db1f4efdc86">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b79599280ae8179fa759c3e1939691a11">DataType</a>);
<a name="l00090"></a>00090   <a class="code" href="classdata.html#9f8962171552246490254b49228fde9f">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00091"></a>00091   <a class="code" href="classdata.html#1664b5f0d33590e409df40ba07297884">CLONE</a>(<a class="code" href="classdata.html">data</a>);          <span class="comment">// clone() method</span>
<a name="l00092"></a>00092   
<a name="l00093"></a>00093   <span class="comment">// to ensure that every data object has a valid time member:</span>
<a name="l00094"></a>00094   <span class="comment">// and: initially, there is no data item embedded</span>
<a name="l00095"></a>00095 <span class="comment">//tolua_begin</span>
<a name="l00096"></a><a class="code" href="classdata.html#1fd56222527f6d450c23e1921e074085">00096</a>   <span class="keyword">inline</span>        <a class="code" href="classdata.html#1fd56222527f6d450c23e1921e074085">data</a>(<span class="keywordtype">void</span>){
<a name="l00097"></a>00097     <a class="code" href="classdata.html#b3607908211dbcb57d6ef54490eb367a">time</a> = <a class="code" href="defs_8h.html#9f3e59686107d854313bd60226986810">SimTime</a>;
<a name="l00098"></a>00098     <span class="comment">//  embedded = NULL; we let do this the first time by the memory allocation</span>
<a name="l00099"></a>00099     <span class="comment">//          routine, and we reset embedded in ~data() if necessary</span>
<a name="l00100"></a>00100     <a class="code" href="classdata.html#55b7adb33e96c442b882c6888b307b2d">embedded</a> = NULL;
<a name="l00101"></a>00101     <span class="comment">// would be too dangerous: Suppose somebody defines</span>
<a name="l00102"></a>00102     <span class="comment">// a data object or sth. derived normally in a block. Then not operator</span>
<a name="l00103"></a>00103     <span class="comment">// new is called, but the object is placed on the stack. Thus, embedded won't</span>
<a name="l00104"></a>00104     <span class="comment">// be initialised (only guaranteed for objects taken from our memory pool),</span>
<a name="l00105"></a>00105     <span class="comment">// and we run in severe trouble in the destructor.</span>
<a name="l00106"></a>00106 <span class="preprocessor">#ifdef  DATA_OBJECT_TRACE</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>    traceOrigPtr = NULL;        <span class="comment">// for data object tracing</span>
<a name="l00108"></a>00108 <span class="preprocessor">#endif  // DATA_OBJECT_TRACE</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>    <span class="comment">// clp = 1;</span>
<a name="l00110"></a>00110   }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="comment">// DO NOT delete or change to non-virtual! two purposes:</span>
<a name="l00113"></a>00113   <span class="comment">// 1. Due to the late binding, the right delete operator is found -</span>
<a name="l00114"></a>00114   <span class="comment">//    regardless of the type of pointer used in the delete statement.</span>
<a name="l00115"></a>00115   <span class="comment">//    See Stroustup: The C++ Programming Language, 2nd ed., p.216</span>
<a name="l00116"></a>00116   <span class="comment">// 2. Delete embedded data items (if any).</span>
<a name="l00117"></a>00117   <span class="comment">// It is NOT NECESSARY to repeat this destructor for derived classes.</span>
<a name="l00118"></a><a class="code" href="classdata.html#21dd595f579fe4d086a5b13013fa28c2">00118</a>   <span class="keyword">inline</span> <span class="keyword">virtual</span> <a class="code" href="classdata.html#21dd595f579fe4d086a5b13013fa28c2">~data</a>(<span class="keywordtype">void</span>){
<a name="l00119"></a>00119     <span class="keywordflow">if</span> (<a class="code" href="classdata.html#55b7adb33e96c442b882c6888b307b2d">embedded</a>) {
<a name="l00120"></a>00120       <span class="comment">// We shift this to the constructor, see above.</span>
<a name="l00121"></a>00121       <span class="comment">// embedded = NULL; // it goes cleaned back into the memory pool</span>
<a name="l00122"></a>00122       <span class="keyword">delete</span> <a class="code" href="classdata.html#55b7adb33e96c442b882c6888b307b2d">embedded</a>;
<a name="l00123"></a>00123     }
<a name="l00124"></a>00124   }
<a name="l00125"></a>00125   <span class="comment">// how long am I?</span>
<a name="l00126"></a><a class="code" href="classdata.html#297a8c9b62cafe6cab82ac5203df6a72">00126</a>   <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classdata.html#297a8c9b62cafe6cab82ac5203df6a72">pdu_len</a>() {
<a name="l00127"></a>00127     <span class="keywordflow">return</span> 1;   
<a name="l00128"></a>00128     <span class="comment">// logical length of data item: 1 byte</span>
<a name="l00129"></a>00129   }
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="classdata.html#2c1ab3c8d9464522e7b3aeca281735c6">00131</a>   <a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b">dat_typ</a>       <a class="code" href="classdata.html#2c1ab3c8d9464522e7b3aeca281735c6">type</a>;           <span class="comment">// data type, is initialized by alloc_pool()</span>
<a name="l00132"></a><a class="code" href="classdata.html#b3607908211dbcb57d6ef54490eb367a">00132</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a>       <a class="code" href="classdata.html#b3607908211dbcb57d6ef54490eb367a">time</a>;           <span class="comment">// data item creation time</span>
<a name="l00133"></a><a class="code" href="classdata.html#3484ee52d5d17e9218f2047fce58c42e">00133</a>   <a class="code" href="classdata.html">data</a>  *<a class="code" href="classdata.html#3484ee52d5d17e9218f2047fce58c42e">next</a>;          <span class="comment">// used everywhere: for queueing ...</span>
<a name="l00134"></a><a class="code" href="classdata.html#55b7adb33e96c442b882c6888b307b2d">00134</a>   <a class="code" href="classdata.html">data</a>  *<a class="code" href="classdata.html#55b7adb33e96c442b882c6888b307b2d">embedded</a>;      <span class="comment">// if != NULL: data item embedded</span>
<a name="l00135"></a>00135 <span class="comment">//tolua_end</span>
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classdata.html#4ccf9ffb6b8dea85ee26faec566b30d0">00137</a>   <span class="keywordtype">int</span>   <a class="code" href="classdata.html#4ccf9ffb6b8dea85ee26faec566b30d0">clp</a>;
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="preprocessor">#ifdef  DATA_OBJECT_TRACE</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>  <span class="keywordtype">char</span>  *traceOrigPtr;  <span class="comment">// points to the SetTrace network object</span>
<a name="l00141"></a>00141   <span class="keywordtype">int</span>   traceSeqNumber;
<a name="l00142"></a>00142 <span class="preprocessor">#endif  // DATA_OBJECT_TRACE</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>};  <span class="comment">//tolua_export</span>
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 <span class="comment">//</span>
<a name="l00146"></a>00146 <span class="comment">// Redefine CLONE(): now defines the clone() method (as before) and additionally</span>
<a name="l00147"></a>00147 <span class="comment">// the empty destruktor which normally should be redundant (work-around for a gcc bug).</span>
<a name="l00148"></a>00148 <span class="comment">// For the 'data' class above, only the clone() method is defined by CLONE().</span>
<a name="l00149"></a>00149 <span class="comment">// Matthias Baumann, June 3, 1998</span>
<a name="l00150"></a>00150 <span class="comment">// </span>
<a name="l00151"></a>00151 <span class="preprocessor">#ifdef  GCC_DESTRUCTOR_BUG</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#undef  CLONE</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span><span class="preprocessor">#define CLONE(aClass)\</span>
<a name="l00154"></a>00154 <span class="preprocessor">        virtual data *clone() {\</span>
<a name="l00155"></a>00155 <span class="preprocessor">          data    *pd;\</span>
<a name="l00156"></a>00156 <span class="preprocessor">          pd = new aClass( *this);\</span>
<a name="l00157"></a>00157 <span class="preprocessor">          if (embedded)\</span>
<a name="l00158"></a>00158 <span class="preprocessor">            pd-&gt;embedded = embedded-&gt;clone();\</span>
<a name="l00159"></a>00159 <span class="preprocessor">            return pd;\</span>
<a name="l00160"></a>00160 <span class="preprocessor">        }\</span>
<a name="l00161"></a>00161 <span class="preprocessor">        virtual ~aClass(){}</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span><span class="preprocessor">#endif  // GCC_DESTRUCTOR_BUG</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="comment">// =============================================================================</span>
<a name="l00166"></a>00166 <span class="comment">// Cell class</span>
<a name="l00167"></a>00167 <span class="comment">// =============================================================================</span>
<a name="l00168"></a>00168 <span class="comment">//tolua_begin</span>
<a name="l00169"></a><a class="code" href="classcell.html">00169</a> <span class="keyword">class   </span><a class="code" href="classcell.html">cell</a>:   <span class="keyword">public</span>  <a class="code" href="classdata.html">data</a>    {
<a name="l00170"></a>00170 <span class="keyword">public</span>:
<a name="l00171"></a>00171   <span class="comment">//tolua_end</span>
<a name="l00172"></a>00172   <a class="code" href="classcell.html#8c74256ad80ea2d408cde27f73485f18">BASECLASS</a>(<a class="code" href="classdata.html">data</a>);
<a name="l00173"></a>00173   <a class="code" href="classcell.html#214cdf990ee3026e3be713b6b22c2ecd">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0c72a1f41452e13e2382d689f84c71d9">CellType</a>);
<a name="l00174"></a>00174   <a class="code" href="classcell.html#e87758616cda4a9af7eb41dc42c2cc68">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00175"></a>00175   <a class="code" href="classcell.html#776fd4ff8665e87fad82d5464b10f4db">CLONE</a>(<a class="code" href="classcell.html">cell</a>);          <span class="comment">// clone() method</span>
<a name="l00176"></a>00176   
<a name="l00177"></a>00177   <span class="comment">//tolua_begin</span>
<a name="l00178"></a>00178   <span class="comment">// to ensure that every cell object has a valid vci member:</span>
<a name="l00179"></a><a class="code" href="classcell.html#9b5ef11f51ecaac2b86fe394cdc1fa0c">00179</a>   <span class="keyword">inline</span> <a class="code" href="classcell.html#9b5ef11f51ecaac2b86fe394cdc1fa0c">cell</a>(<span class="keywordtype">int</span> i){ 
<a name="l00180"></a>00180     <a class="code" href="classcell.html#a06071df707a41a22af1848d0f899873">vci</a> = i; <a class="code" href="classdata.html#4ccf9ffb6b8dea85ee26faec566b30d0">clp</a> = 0;
<a name="l00181"></a>00181   }
<a name="l00182"></a>00182   <span class="comment">// how long am I?</span>
<a name="l00183"></a><a class="code" href="classcell.html#bf6338ff3003c4960ef1e8bc18ba4501">00183</a>   <span class="keywordtype">size_t</span> <a class="code" href="classcell.html#bf6338ff3003c4960ef1e8bc18ba4501">pdu_len</a>() {
<a name="l00184"></a>00184     <span class="comment">// logical length of cell: 53 bytes</span>
<a name="l00185"></a>00185     <span class="keywordflow">return</span> 53;  
<a name="l00186"></a>00186   }     
<a name="l00187"></a><a class="code" href="classcell.html#a06071df707a41a22af1848d0f899873">00187</a>   <span class="keywordtype">int</span> <a class="code" href="classcell.html#a06071df707a41a22af1848d0f899873">vci</a>;              <span class="comment">// VCI number</span>
<a name="l00188"></a>00188 };
<a name="l00189"></a>00189 <span class="comment">//tolua_end</span>
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="comment">// =============================================================================</span>
<a name="l00192"></a>00192 <span class="comment">//      Cells with payload</span>
<a name="l00193"></a>00193 <span class="comment">// =============================================================================</span>
<a name="l00194"></a>00194 <span class="comment">//tolua_begin</span>
<a name="l00195"></a><a class="code" href="classcellPayl.html">00195</a> <span class="keyword">class   </span><a class="code" href="classcellPayl.html">cellPayl</a>: <span class="keyword">public</span>        <a class="code" href="classcell.html">cell</a> {
<a name="l00196"></a>00196 <span class="keyword">public</span>:
<a name="l00197"></a>00197   <span class="comment">//tolua_end</span>
<a name="l00198"></a>00198   <a class="code" href="classcellPayl.html#cc5965dff7ae8bfd79fc2471ed6a4158">BASECLASS</a>(<a class="code" href="classcell.html">cell</a>);
<a name="l00199"></a>00199   <a class="code" href="classcellPayl.html#7a6415c4a94d626c0a4c098676a000aa">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b8e1bb91f7775280e1bde2d89c316b383">CellPaylType</a>);
<a name="l00200"></a>00200   <a class="code" href="classcellPayl.html#ff55136e38c2b8e9b371af5fd963862d">NEW_DELETE</a>(1000);     <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00201"></a>00201   <a class="code" href="classcellPayl.html#6d49984644d6c8fb751bdb75ea9e2059">CLONE</a>(<a class="code" href="classcellPayl.html">cellPayl</a>);
<a name="l00202"></a>00202   
<a name="l00203"></a>00203   <span class="comment">//tolua_begin</span>
<a name="l00204"></a><a class="code" href="classcellPayl.html#04115e8304d50c2683dbdacce89b85c0">00204</a>   <span class="keyword">inline</span>        <a class="code" href="classcellPayl.html#04115e8304d50c2683dbdacce89b85c0">cellPayl</a>(<span class="keywordtype">int</span> i): <a class="code" href="classcell.html">cell</a>(i)        {}
<a name="l00205"></a>00205   <span class="comment">// logical length of cell: 53 bytes</span>
<a name="l00206"></a><a class="code" href="classcellPayl.html#bf40cbc9472af1dfd7b8cc2ad6b75fc5">00206</a>   <span class="keywordtype">size_t</span>        <a class="code" href="classcellPayl.html#bf40cbc9472af1dfd7b8cc2ad6b75fc5">pdu_len</a>() {
<a name="l00207"></a>00207     <span class="keywordflow">return</span> 53;  
<a name="l00208"></a>00208   }
<a name="l00209"></a><a class="code" href="classcellPayl.html#16a7808ef13dc9e225c4b0b2dc144f83">00209</a>   <span class="keywordtype">char</span> <a class="code" href="classcellPayl.html#16a7808ef13dc9e225c4b0b2dc144f83">payload</a>[48];
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 <span class="comment">//tolua_end</span>
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="comment">// =============================================================================</span>
<a name="l00214"></a>00214 <span class="comment">//      Cells with sequence numbers</span>
<a name="l00215"></a>00215 <span class="comment">// =============================================================================</span>
<a name="l00216"></a>00216 <span class="comment">//tolua_begin</span>
<a name="l00217"></a><a class="code" href="classcellSeq.html">00217</a> <span class="keyword">class   </span><a class="code" href="classcellSeq.html">cellSeq</a>:        <span class="keyword">public</span> <a class="code" href="classcell.html">cell</a> {
<a name="l00218"></a>00218 <span class="keyword">public</span>:
<a name="l00219"></a>00219   <span class="comment">//tolua_end</span>
<a name="l00220"></a>00220   <a class="code" href="classcellSeq.html#90193fb1b55c37d8c579263870487c9b">BASECLASS</a>(<a class="code" href="classcell.html">cell</a>);
<a name="l00221"></a>00221   <a class="code" href="classcellSeq.html#21601d91b26604ff61f6dd1045926bb7">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b65a3b8278b58c367305c6131d0e9e1d5">CellSeqType</a>);
<a name="l00222"></a>00222   <a class="code" href="classcellSeq.html#1d359927fb911aa4bba9ea359e564fd8">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00223"></a>00223   <a class="code" href="classcellSeq.html#88b56a301e69bb3128a2fe1b1f0a9ea5">CLONE</a>(<a class="code" href="classcellSeq.html">cellSeq</a>);
<a name="l00224"></a>00224   <span class="comment">//tolua_begin</span>
<a name="l00225"></a>00225   
<a name="l00226"></a><a class="code" href="classcellSeq.html#17593f465c5cd616cad51340bd05489d">00226</a>   <span class="keyword">inline</span> <a class="code" href="classcellSeq.html#17593f465c5cd616cad51340bd05489d">cellSeq</a>(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> b, <span class="keywordtype">int</span> blen, <span class="keywordtype">int</span> s): <a class="code" href="classcell.html">cell</a>(i) {
<a name="l00227"></a>00227     <a class="code" href="classcellSeq.html#0a236ad6640c0c1e9b9f487d6d9bba7d">burst_no</a> = b; 
<a name="l00228"></a>00228     <a class="code" href="classcellSeq.html#a15a154b29153535026456ae1ae61230">burst_len</a> = blen; 
<a name="l00229"></a>00229     <a class="code" href="classcellSeq.html#b8ec015e2c01d5db8211507a12ef0d25">seq_no</a> = s;
<a name="l00230"></a>00230   }
<a name="l00231"></a>00231   <span class="comment">// logical length of cell: 53 bytes</span>
<a name="l00232"></a><a class="code" href="classcellSeq.html#943931d49289960ccea929d24d120d2e">00232</a>   <span class="keywordtype">size_t</span> <a class="code" href="classcellSeq.html#943931d49289960ccea929d24d120d2e">pdu_len</a>() {
<a name="l00233"></a>00233     <span class="keywordflow">return</span> 53;  
<a name="l00234"></a>00234   }
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="classcellSeq.html#0a236ad6640c0c1e9b9f487d6d9bba7d">00236</a>   <span class="keywordtype">int</span> <a class="code" href="classcellSeq.html#0a236ad6640c0c1e9b9f487d6d9bba7d">burst_no</a>;  <span class="comment">// # of the burst</span>
<a name="l00237"></a><a class="code" href="classcellSeq.html#a15a154b29153535026456ae1ae61230">00237</a>   <span class="keywordtype">int</span> <a class="code" href="classcellSeq.html#a15a154b29153535026456ae1ae61230">burst_len</a>; <span class="comment">// length of the current burst</span>
<a name="l00238"></a><a class="code" href="classcellSeq.html#b8ec015e2c01d5db8211507a12ef0d25">00238</a>   <span class="keywordtype">int</span> <a class="code" href="classcellSeq.html#b8ec015e2c01d5db8211507a12ef0d25">seq_no</a>;    <span class="comment">// sequence number in the burst</span>
<a name="l00239"></a>00239 };
<a name="l00240"></a>00240 <span class="comment">//tolua_end</span>
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 <span class="comment">// =============================================================================</span>
<a name="l00243"></a>00243 <span class="comment">//      Frame class</span>
<a name="l00244"></a>00244 <span class="comment">// =============================================================================</span>
<a name="l00245"></a>00245 <span class="comment">//tolua_begin</span>
<a name="l00246"></a><a class="code" href="structmacaddr.html">00246</a> <span class="keyword">struct </span><a class="code" href="structmacaddr.html">macaddr</a> {
<a name="l00247"></a><a class="code" href="structmacaddr.html#4c73e3861b3b4953f817ad062432c2be">00247</a>    <span class="keywordtype">int</span> <a class="code" href="structmacaddr.html#4c73e3861b3b4953f817ad062432c2be">mc</a>;   <span class="comment">// individual (0) or group (multicast) (1)</span>
<a name="l00248"></a><a class="code" href="structmacaddr.html#ff8d7af340441fff5741b99529db4d3f">00248</a>    <span class="keywordtype">int</span> <a class="code" href="structmacaddr.html#ff8d7af340441fff5741b99529db4d3f">ul</a>;   <span class="comment">// unique global (0) or local (1)</span>
<a name="l00249"></a><a class="code" href="structmacaddr.html#ec81db004f731e24bd052437bf5e150d">00249</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmacaddr.html#ec81db004f731e24bd052437bf5e150d">oui</a>;  <span class="comment">// organizational uniqueue  id (1st 24 bits)</span>
<a name="l00250"></a><a class="code" href="structmacaddr.html#b6a75c3bed291863473d2b5111107995">00250</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmacaddr.html#b6a75c3bed291863473d2b5111107995">nic</a>;  <span class="comment">// nic (2nd 24 bits)</span>
<a name="l00251"></a>00251 };
<a name="l00252"></a>00252 
<a name="l00253"></a><a class="code" href="data_8h.html#670d9b576c285f45ef3ddeffe78d5a63">00253</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structmacaddr.html">macaddr</a> <a class="code" href="structmacaddr.html">macaddr_t</a>;
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="keywordtype">char</span> *<a class="code" href="data_8c.html#78767fbe5a4e77a684e4f0a4fbf8caaa">mac2string</a>(<span class="keyword">struct</span> <a class="code" href="structmacaddr.html">macaddr</a> smac, <span class="keywordtype">char</span> *cmac);
<a name="l00256"></a>00256 <span class="keyword">struct </span><a class="code" href="structmacaddr.html">macaddr</a> <a class="code" href="data_8c.html#f3f354e202a0975bf4d947f27531abfd">mac2struct</a>(char *cmac);
<a name="l00257"></a>00257 <span class="keywordtype">char</span> *<a class="code" href="data_8c.html#7f5722c509e8316ecd82d7b851f3f519">maci2c</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mac, <span class="keyword">struct</span> <a class="code" href="structmacaddr.html">macaddr</a> *smac);
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="classframe.html">00259</a> <span class="keyword">class   </span><a class="code" href="classframe.html">frame</a>:  <span class="keyword">public</span>  <a class="code" href="classdata.html">data</a>    {
<a name="l00260"></a>00260 <span class="keyword">public</span>:
<a name="l00261"></a>00261   <span class="comment">//tolua_end</span>
<a name="l00262"></a>00262   
<a name="l00263"></a>00263   <a class="code" href="classframe.html#73c4d20f68fa2a12047269a85e6dd932">BASECLASS</a>(<a class="code" href="classdata.html">data</a>);
<a name="l00264"></a>00264   <a class="code" href="classframe.html#d3e825a647b28bdfa3fdb4421dd341bc">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b20ffc60fa87654cf148cfad47382005d">FrameType</a>);
<a name="l00265"></a>00265   <a class="code" href="classframe.html#777409c4d8af8b40256414da61f7fc0c">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00266"></a>00266   <a class="code" href="classframe.html#614d378844a4ea18e64ede60afaef019">CLONE</a>(<a class="code" href="classframe.html">frame</a>);
<a name="l00267"></a>00267   
<a name="l00268"></a>00268   <span class="comment">//tolua_begin</span>
<a name="l00269"></a><a class="code" href="classframe.html#4ca12f114b46a2d2e2deed7b79f483df">00269</a>   <span class="keyword">inline</span>        <a class="code" href="classframe.html#4ca12f114b46a2d2e2deed7b79f483df">frame</a>(<span class="keywordtype">int</span> l, <span class="keywordtype">int</span> cid = 0)
<a name="l00270"></a>00270   {
<a name="l00271"></a>00271     <a class="code" href="classframe.html#7c1e7e09bfee0e67b89ed4bf5446fb09">frameLen</a> = l;
<a name="l00272"></a>00272     <a class="code" href="classframe.html#0c3cbdbbfca04c8cfca7238e62415e6d">connID</a> = cid;
<a name="l00273"></a>00273     <a class="code" href="classdata.html#4ccf9ffb6b8dea85ee26faec566b30d0">clp</a> = 1; <span class="comment">// standard frames are best effort</span>
<a name="l00274"></a>00274     <a class="code" href="classframe.html#1422cd55b4dc312e89efe69feac784be">tpid</a> = 0;
<a name="l00275"></a>00275     <a class="code" href="classframe.html#6e4cb5b6d3baaeb131105582cca7cffa">vlanId</a> = 0;
<a name="l00276"></a>00276     <a class="code" href="classframe.html#be36e4b0470e58d38b035c6d6ce659ab">vlanPriority</a> = 0;
<a name="l00277"></a>00277     <a class="code" href="classframe.html#99ce6e51fc46054200fbb52d621c546b">dropPrecedence</a> = 0;
<a name="l00278"></a>00278     <a class="code" href="classframe.html#1c35567f9aeb7cef4a0c3cd35a413c7c">prioCodePoint</a> = 0;
<a name="l00279"></a>00279     <a class="code" href="classframe.html#295fee13d6b2532c646dac450e0cef9f">internalDropPrecedence</a> = 0;
<a name="l00280"></a>00280   }
<a name="l00281"></a>00281   <span class="comment">// how long am I?</span>
<a name="l00282"></a><a class="code" href="classframe.html#9bdd3e8bf3df01a931bde21213a52c3b">00282</a>   <span class="keywordtype">size_t</span> <a class="code" href="classframe.html#9bdd3e8bf3df01a931bde21213a52c3b">pdu_len</a>() {
<a name="l00283"></a>00283     <span class="keywordflow">return</span> <a class="code" href="classframe.html#7c1e7e09bfee0e67b89ed4bf5446fb09">frameLen</a>;
<a name="l00284"></a>00284   }
<a name="l00285"></a><a class="code" href="classframe.html#7c1e7e09bfee0e67b89ed4bf5446fb09">00285</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#7c1e7e09bfee0e67b89ed4bf5446fb09">frameLen</a>;         <span class="comment">// length of frame (bytes)</span>
<a name="l00286"></a><a class="code" href="classframe.html#0c3cbdbbfca04c8cfca7238e62415e6d">00286</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#0c3cbdbbfca04c8cfca7238e62415e6d">connID</a>;           <span class="comment">// a higher-layer connection ID</span>
<a name="l00287"></a>00287   <span class="comment">// Ethernet Header</span>
<a name="l00288"></a>00288   <span class="comment">// only for simple tasks: </span>
<a name="l00289"></a>00289   <span class="comment">// 0xFFFFFFFFL = broadcast</span>
<a name="l00290"></a>00290   <span class="comment">// MSB=1: multicast</span>
<a name="l00291"></a>00291   <span class="comment">// MSB=0: unicast</span>
<a name="l00292"></a><a class="code" href="classframe.html#6e21a4f70c817d3bfbc2e16d10dd1424">00292</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classframe.html#6e21a4f70c817d3bfbc2e16d10dd1424">smac</a>;             
<a name="l00293"></a><a class="code" href="classframe.html#ea6d7c1a13bbd2db2ba05efc141cc2db">00293</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classframe.html#ea6d7c1a13bbd2db2ba05efc141cc2db">dmac</a>;
<a name="l00294"></a><a class="code" href="classframe.html#1422cd55b4dc312e89efe69feac784be">00294</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#1422cd55b4dc312e89efe69feac784be">tpid</a>;
<a name="l00295"></a><a class="code" href="classframe.html#6e4cb5b6d3baaeb131105582cca7cffa">00295</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#6e4cb5b6d3baaeb131105582cca7cffa">vlanId</a>;           <span class="comment">// VLAN ID, added Mue 2003-08-31</span>
<a name="l00296"></a><a class="code" href="classframe.html#be36e4b0470e58d38b035c6d6ce659ab">00296</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#be36e4b0470e58d38b035c6d6ce659ab">vlanPriority</a>;     <span class="comment">// VLAN priority, added Mue 2003-08-31</span>
<a name="l00297"></a><a class="code" href="classframe.html#8226f983a0c2c16ebd53a38fb2a96dcf">00297</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#8226f983a0c2c16ebd53a38fb2a96dcf">tpid2</a>;
<a name="l00298"></a><a class="code" href="classframe.html#ddab9b6248e13060f356c624afc82d5e">00298</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#ddab9b6248e13060f356c624afc82d5e">vlanId2</a>;
<a name="l00299"></a><a class="code" href="classframe.html#45b34679a10d35437ae4efb1e532e867">00299</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#45b34679a10d35437ae4efb1e532e867">vlanPriority2</a>;
<a name="l00300"></a><a class="code" href="classframe.html#99ce6e51fc46054200fbb52d621c546b">00300</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#99ce6e51fc46054200fbb52d621c546b">dropPrecedence</a>;   <span class="comment">// Drop precedence, added Mue 2003-08-31;</span>
<a name="l00301"></a><a class="code" href="classframe.html#295fee13d6b2532c646dac450e0cef9f">00301</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#295fee13d6b2532c646dac450e0cef9f">internalDropPrecedence</a>;
<a name="l00302"></a><a class="code" href="classframe.html#1c35567f9aeb7cef4a0c3cd35a413c7c">00302</a>   <span class="keywordtype">int</span> <a class="code" href="classframe.html#1c35567f9aeb7cef4a0c3cd35a413c7c">prioCodePoint</a>;
<a name="l00303"></a><a class="code" href="classframe.html#45ec3e89f8c84dd932d64390c6c81266">00303</a>   <a class="code" href="classroot.html">root</a> *<a class="code" href="classframe.html#45ec3e89f8c84dd932d64390c6c81266">sender</a>;
<a name="l00304"></a>00304 };
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">//tolua_end</span>
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="comment">// =============================================================================</span>
<a name="l00309"></a>00309 <span class="comment">//      TCP/IP-Frames</span>
<a name="l00310"></a>00310 <span class="comment">// =============================================================================</span>
<a name="l00311"></a>00311 <span class="comment">//tolua_begin</span>
<a name="l00312"></a><a class="code" href="classtcpipFrame.html">00312</a> <span class="keyword">class   </span><a class="code" href="classtcpipFrame.html">tcpipFrame</a>:     <span class="keyword">public</span>  <a class="code" href="classframe.html">frame</a> {
<a name="l00313"></a>00313 <span class="keyword">public</span>:
<a name="l00314"></a>00314   <span class="comment">//tolua_end</span>
<a name="l00315"></a>00315   
<a name="l00316"></a>00316   <a class="code" href="classtcpipFrame.html#10190b3f75e65832a4c06989f3f34709">BASECLASS</a>(<a class="code" href="classframe.html">frame</a>);
<a name="l00317"></a>00317   <a class="code" href="classtcpipFrame.html#ae2336b351e7dc1bed278f7abb7105a9">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7be63e171e305fc25d2c981969bd5ba231">TCPIPFrameType</a>);
<a name="l00318"></a>00318   <a class="code" href="classtcpipFrame.html#034a9dcef9509f933f5e660d1440d98e">NEW_DELETE</a>(1000);     <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00319"></a>00319   <a class="code" href="classtcpipFrame.html#743efcd97476b0d05e7553496683bc43">CLONE</a>(<a class="code" href="classtcpipFrame.html">tcpipFrame</a>);
<a name="l00320"></a>00320   
<a name="l00321"></a>00321   <span class="comment">//tolua_begin</span>
<a name="l00322"></a><a class="code" href="classtcpipFrame.html#fe8e7a4ff2a55a8efbc64ff1de403b92">00322</a>   <span class="keyword">inline</span>        <a class="code" href="classtcpipFrame.html#fe8e7a4ff2a55a8efbc64ff1de403b92">tcpipFrame</a>(<span class="keywordtype">int</span> seq, <span class="keywordtype">int</span> dlen, <a class="code" href="classroot.html">root</a> *po): <a class="code" href="classframe.html">frame</a>(dlen) {
<a name="l00323"></a>00323     <a class="code" href="classtcpipFrame.html#79582d84efdf9e3091122040abafc8e9">TCPseq</a> = seq;
<a name="l00324"></a>00324     <a class="code" href="classtcpipFrame.html#5cb83c0d1e5a579f8330d824ba4b8a94">sendingObj</a> = po;
<a name="l00325"></a>00325   }
<a name="l00326"></a>00326   
<a name="l00327"></a><a class="code" href="classtcpipFrame.html#79582d84efdf9e3091122040abafc8e9">00327</a>   <span class="keywordtype">int</span> <a class="code" href="classtcpipFrame.html#79582d84efdf9e3091122040abafc8e9">TCPseq</a>;           <span class="comment">// TCP sequence number</span>
<a name="l00328"></a><a class="code" href="classtcpipFrame.html#a3ff928ed7290b7468c2e5f06b264d72">00328</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a> <a class="code" href="classtcpipFrame.html#a3ff928ed7290b7468c2e5f06b264d72">TCPtimestamp</a>; <span class="comment">// for TCP timestamp option</span>
<a name="l00329"></a><a class="code" href="classtcpipFrame.html#2ed4ab1eef8a3127b1a2c7db39e939ef">00329</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a> <a class="code" href="classtcpipFrame.html#2ed4ab1eef8a3127b1a2c7db39e939ef">TCPPackStamp</a>; <span class="comment">// for SDU delay measurement</span>
<a name="l00330"></a><a class="code" href="classtcpipFrame.html#beb5f9b4c9d38386402750b6ab60c21e">00330</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a> <a class="code" href="classtcpipFrame.html#beb5f9b4c9d38386402750b6ab60c21e">TCPSendStamp</a>; <span class="comment">// for PDU delay measurement</span>
<a name="l00331"></a>00331   
<a name="l00332"></a><a class="code" href="classtcpipFrame.html#5cb83c0d1e5a579f8330d824ba4b8a94">00332</a>   <a class="code" href="classroot.html">root</a>  *<a class="code" href="classtcpipFrame.html#5cb83c0d1e5a579f8330d824ba4b8a94">sendingObj</a>;
<a name="l00333"></a>00333 };
<a name="l00334"></a>00334 <span class="comment">//tolua_end</span>
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="comment">// =============================================================================</span>
<a name="l00337"></a>00337 <span class="comment">//      TCP-ACKs</span>
<a name="l00338"></a>00338 <span class="comment">// =============================================================================</span>
<a name="l00339"></a>00339 <span class="comment">//tolua_begin</span>
<a name="l00340"></a><a class="code" href="classtcpAck.html">00340</a> <span class="keyword">class   </span><a class="code" href="classtcpAck.html">tcpAck</a>: <span class="keyword">public</span> <a class="code" href="classframe.html">frame</a> {
<a name="l00341"></a>00341 <span class="keyword">public</span>:
<a name="l00342"></a>00342   <span class="comment">//tolua_end</span>
<a name="l00343"></a>00343   
<a name="l00344"></a>00344   <a class="code" href="classtcpAck.html#c50340d4f40db1a31af5a2e113cfc429">BASECLASS</a>(<a class="code" href="classframe.html">frame</a>);
<a name="l00345"></a>00345   <a class="code" href="classtcpAck.html#d53890d4fbfa7223692f76809246361f">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7ba8e7987f56a3fa70e7e7e9979238ce88">TCPACKType</a>);
<a name="l00346"></a>00346   <a class="code" href="classtcpAck.html#c16243ae0485785f3079b45047a9ff03">NEW_DELETE</a>(100);      <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00347"></a>00347   <a class="code" href="classtcpAck.html#45f2d640956c831960b537a6a2d433ee">CLONE</a>(<a class="code" href="classtcpAck.html">tcpAck</a>);
<a name="l00348"></a>00348 
<a name="l00349"></a>00349   <span class="comment">//tolua_begin </span>
<a name="l00350"></a><a class="code" href="classtcpAck.html#d0c6945161adcc14957055073d537efd">00350</a>   <span class="keyword">inline</span> <a class="code" href="classtcpAck.html#d0c6945161adcc14957055073d537efd">tcpAck</a>(<span class="keywordtype">int</span> s, <span class="keywordtype">int</span> a, <span class="keywordtype">int</span> w, <a class="code" href="classroot.html">root</a> *po): <a class="code" href="classframe.html">frame</a>(48) {
<a name="l00351"></a>00351     <a class="code" href="classtcpAck.html#29a1df97c0b344820f91caf3b879e552">TCPAseq</a> = s;
<a name="l00352"></a>00352     <a class="code" href="classtcpAck.html#eb88dff1d9f6bff6600694b31808663c">TCPAack</a> = a; 
<a name="l00353"></a>00353     <a class="code" href="classtcpAck.html#91cc903bc5cbd1a66396c362a81b1efc">TCPAwnd</a> = w;
<a name="l00354"></a>00354     <a class="code" href="classtcpAck.html#8e70f5169e522a67caca8f818673e527">sendingObj</a> = po;
<a name="l00355"></a>00355     <a class="code" href="classdata.html#4ccf9ffb6b8dea85ee26faec566b30d0">clp</a> = 0;
<a name="l00356"></a>00356   }
<a name="l00357"></a><a class="code" href="classtcpAck.html#29a1df97c0b344820f91caf3b879e552">00357</a>   <span class="keywordtype">int</span> <a class="code" href="classtcpAck.html#29a1df97c0b344820f91caf3b879e552">TCPAseq</a>;
<a name="l00358"></a><a class="code" href="classtcpAck.html#eb88dff1d9f6bff6600694b31808663c">00358</a>   <span class="keywordtype">int</span> <a class="code" href="classtcpAck.html#eb88dff1d9f6bff6600694b31808663c">TCPAack</a>;
<a name="l00359"></a><a class="code" href="classtcpAck.html#91cc903bc5cbd1a66396c362a81b1efc">00359</a>   <span class="keywordtype">int</span> <a class="code" href="classtcpAck.html#91cc903bc5cbd1a66396c362a81b1efc">TCPAwnd</a>;
<a name="l00360"></a><a class="code" href="classtcpAck.html#c2f755b03a8aebeca210e338bca42163">00360</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a> <a class="code" href="classtcpAck.html#c2f755b03a8aebeca210e338bca42163">TCPAecr</a>;
<a name="l00361"></a><a class="code" href="classtcpAck.html#17a2301fce58e4321409ead25cbc53c7">00361</a>   <a class="code" href="defs_8h.html#b505b3bd21e0d5447484a2553096f8f2">tim_typ</a> <a class="code" href="classtcpAck.html#17a2301fce58e4321409ead25cbc53c7">TCPAPackStamp</a>;
<a name="l00362"></a><a class="code" href="classtcpAck.html#8e70f5169e522a67caca8f818673e527">00362</a>   <a class="code" href="classroot.html">root</a>  *<a class="code" href="classtcpAck.html#8e70f5169e522a67caca8f818673e527">sendingObj</a>;
<a name="l00363"></a>00363 };
<a name="l00364"></a>00364 <span class="comment">//tolua_end</span>
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 <span class="comment">// =============================================================================</span>
<a name="l00367"></a>00367 <span class="comment">//      Frames with sequence number</span>
<a name="l00368"></a>00368 <span class="comment">// =============================================================================</span>
<a name="l00369"></a>00369 <span class="comment">//tolua_begin</span>
<a name="l00370"></a><a class="code" href="classframeSeq.html">00370</a> <span class="keyword">class   </span><a class="code" href="classframeSeq.html">frameSeq</a>:       <span class="keyword">public</span>  <a class="code" href="classframe.html">frame</a>   {
<a name="l00371"></a>00371 <span class="keyword">public</span>:
<a name="l00372"></a>00372   <span class="comment">//tolua_end</span>
<a name="l00373"></a>00373   
<a name="l00374"></a>00374   <a class="code" href="classframeSeq.html#58f675582e3ce0a4bee387236cf61011">BASECLASS</a>(<a class="code" href="classframe.html">frame</a>);
<a name="l00375"></a>00375   <a class="code" href="classframeSeq.html#68dbff912132abab3f378537020ba5c2">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b63088c20974fde4cc79c93eeb1bc20ba">FrameSeqType</a>);
<a name="l00376"></a>00376   <a class="code" href="classframeSeq.html#47fa4385a11250a37b42006944e678ac">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00377"></a>00377   <a class="code" href="classframeSeq.html#3be2fe6636ee54518552ed0420af085b">CLONE</a>(<a class="code" href="classframeSeq.html">frameSeq</a>);
<a name="l00378"></a>00378   
<a name="l00379"></a>00379   <span class="comment">//tolua_begin </span>
<a name="l00380"></a><a class="code" href="classframeSeq.html#0588ede1354689d7c38cd18a9f6f1968">00380</a>   <span class="keyword">inline</span>        <a class="code" href="classframeSeq.html#0588ede1354689d7c38cd18a9f6f1968">frameSeq</a>(<span class="keywordtype">int</span> l, <span class="keywordtype">int</span> seq) : <a class="code" href="classframe.html">frame</a>(l){
<a name="l00381"></a>00381     <a class="code" href="classframeSeq.html#0ff01540b2049faa56b225805fa10d83">seq_no</a> = seq; 
<a name="l00382"></a>00382   }
<a name="l00383"></a><a class="code" href="classframeSeq.html#0ff01540b2049faa56b225805fa10d83">00383</a>   <span class="keywordtype">int</span>   <a class="code" href="classframeSeq.html#0ff01540b2049faa56b225805fa10d83">seq_no</a>;
<a name="l00384"></a>00384 };
<a name="l00385"></a>00385 <span class="comment">//tolua_end</span>
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">// =============================================================================</span>
<a name="l00388"></a>00388 <span class="comment">//      Isabel Frames with sequence number, video frame number, and end of video frame mark</span>
<a name="l00389"></a>00389 <span class="comment">// =============================================================================</span>
<a name="l00390"></a>00390 <span class="comment">//tolua_begin</span>
<a name="l00391"></a><a class="code" href="classisaFrame.html">00391</a> <span class="keyword">class </span><a class="code" href="classisaFrame.html">isaFrame</a>: <span class="keyword">public</span> <a class="code" href="classframe.html">frame</a> {
<a name="l00392"></a>00392 <span class="keyword">public</span>:
<a name="l00393"></a>00393   <span class="comment">//tolua_end</span>
<a name="l00394"></a>00394   <a class="code" href="classisaFrame.html#476d2b9a7c1ce1b11d1d724969b90013">BASECLASS</a>(<a class="code" href="classframe.html">frame</a>);
<a name="l00395"></a>00395   <a class="code" href="classisaFrame.html#cc16bdff88cd144f6bb45b6dd3ce6281">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b1895a340a264307668e0206f89be2215">IsaFrameType</a>);
<a name="l00396"></a>00396   <a class="code" href="classisaFrame.html#f0d50dae833c4de3b78d63609e28fe34">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00397"></a>00397   <a class="code" href="classisaFrame.html#1d78042c26dd549991b47bc5b3d7c1f3">CLONE</a>(<a class="code" href="classisaFrame.html">isaFrame</a>);
<a name="l00398"></a>00398   
<a name="l00399"></a>00399   <span class="comment">//tolua_begin </span>
<a name="l00400"></a><a class="code" href="classisaFrame.html#d8d10ba936d560d62c42f63c32e0557d">00400</a>   <span class="keyword">inline</span> <a class="code" href="classisaFrame.html#d8d10ba936d560d62c42f63c32e0557d">isaFrame</a>(<span class="keywordtype">int</span> l):<a class="code" href="classframe.html">frame</a>(l){}
<a name="l00401"></a>00401   
<a name="l00402"></a><a class="code" href="classisaFrame.html#901e7174dec47fd50da13d2b91429d54">00402</a>   <span class="keywordtype">int</span> <a class="code" href="classisaFrame.html#901e7174dec47fd50da13d2b91429d54">frameSeqNo</a>;
<a name="l00403"></a><a class="code" href="classisaFrame.html#01c8781808112865b399b5ae68a25e51">00403</a>   <span class="keywordtype">int</span> <a class="code" href="classisaFrame.html#01c8781808112865b399b5ae68a25e51">endOfVideoFrame</a>;
<a name="l00404"></a><a class="code" href="classisaFrame.html#0ab0b8977ed777df52fb96295a9c5a12">00404</a>   <span class="keywordtype">int</span> <a class="code" href="classisaFrame.html#0ab0b8977ed777df52fb96295a9c5a12">firstFrameNo</a>;
<a name="l00405"></a><a class="code" href="classisaFrame.html#1c5e7c25f8b1f013af28d123981dec23">00405</a>   <span class="keywordtype">int</span> <a class="code" href="classisaFrame.html#1c5e7c25f8b1f013af28d123981dec23">vidFrameNo</a>;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 };
<a name="l00408"></a>00408 <span class="comment">//tolua_end</span>
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="comment">// =============================================================================</span>
<a name="l00411"></a>00411 <span class="comment">//      Ressource management cells (for ABR)</span>
<a name="l00412"></a>00412 <span class="comment">// =============================================================================</span>
<a name="l00413"></a>00413 <span class="comment">//tolua_begin</span>
<a name="l00414"></a><a class="code" href="classrmCell.html">00414</a> <span class="keyword">class </span><a class="code" href="classrmCell.html">rmCell</a>: <span class="keyword">public</span> <a class="code" href="classcell.html">cell</a> {
<a name="l00415"></a>00415 <span class="keyword">public</span>:
<a name="l00416"></a>00416 <span class="comment">//tolua_end</span>
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   <a class="code" href="classrmCell.html#f03d3dab16af86b72f392b7da301ca98">BASECLASS</a>(<a class="code" href="classcell.html">cell</a>);
<a name="l00419"></a>00419   <a class="code" href="classrmCell.html#e05a53f407666497c0fef980f9d815c3">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b92dc41d4883adff4d0b1a4b89c5a5e3b">RMCellType</a>);
<a name="l00420"></a>00420   <a class="code" href="classrmCell.html#4bbf3d038303fa64fbfe2cd5d22617f2">NEW_DELETE</a>(10000);
<a name="l00421"></a>00421   <a class="code" href="classrmCell.html#b115febcb795a3c2263a9dc11a5b8ff9">CLONE</a>(<a class="code" href="classrmCell.html">rmCell</a>);
<a name="l00422"></a>00422   
<a name="l00423"></a>00423   <span class="comment">//tolua_begin</span>
<a name="l00424"></a><a class="code" href="classrmCell.html#f8da4ed693dce8c626a6486da0430a5a">00424</a>   <span class="keyword">inline</span> <a class="code" href="classrmCell.html#f8da4ed693dce8c626a6486da0430a5a">rmCell</a>(<span class="keywordtype">int</span> i): <a class="code" href="classcell.html">cell</a>(i) {}
<a name="l00425"></a><a class="code" href="classrmCell.html#81b08c2a87acdf8fdb15fcaa10708512">00425</a>   <span class="keywordtype">size_t</span> <a class="code" href="classrmCell.html#81b08c2a87acdf8fdb15fcaa10708512">pdu_len</a>()
<a name="l00426"></a>00426   {
<a name="l00427"></a>00427     <span class="keywordflow">return</span> 53;  
<a name="l00428"></a>00428   }
<a name="l00429"></a>00429 
<a name="l00430"></a><a class="code" href="classrmCell.html#459e554b2e2d442a071dbf32ded39df6">00430</a>   <span class="keywordtype">void</span> *<a class="code" href="classrmCell.html#459e554b2e2d442a071dbf32ded39df6">ident</a>;                  <span class="comment">// connection ID - the this pointer of the source</span>
<a name="l00431"></a>00431                                         <span class="comment">// actually root *, but root is still unknown ...</span>
<a name="l00432"></a><a class="code" href="classrmCell.html#2d0ab88aa587a5f9f68650d3883f87bf">00432</a>   <span class="keywordtype">int</span> <a class="code" href="classrmCell.html#2d0ab88aa587a5f9f68650d3883f87bf">CI</a>;
<a name="l00433"></a><a class="code" href="classrmCell.html#814c70d8ef258f60bf1688d974bb9166">00433</a>   <span class="keywordtype">int</span> <a class="code" href="classrmCell.html#814c70d8ef258f60bf1688d974bb9166">NI</a>;
<a name="l00434"></a><a class="code" href="classrmCell.html#dcc3cb99317020e37315d6aa5641cfb3">00434</a>   <span class="keywordtype">int</span> <a class="code" href="classrmCell.html#dcc3cb99317020e37315d6aa5641cfb3">DIR</a>;
<a name="l00435"></a><a class="code" href="classrmCell.html#03ad619f0ba4ed806f31a2b1b8c57be3">00435</a>   <span class="keywordtype">int</span> <a class="code" href="classrmCell.html#03ad619f0ba4ed806f31a2b1b8c57be3">BN</a>;
<a name="l00436"></a><a class="code" href="classrmCell.html#709aa8a1cfb2535f9fd5d20aca866f1f">00436</a>   <span class="keywordtype">int</span> <a class="code" href="classrmCell.html#709aa8a1cfb2535f9fd5d20aca866f1f">CLP</a>;      <span class="comment">// Flags</span>
<a name="l00437"></a>00437   <span class="comment">//tolua_end   </span>
<a name="l00438"></a><a class="code" href="classrmCell.html#25afd4a04cddee31b1f8cc55378a1025">00438</a>   <span class="keywordtype">double</span> <a class="code" href="classrmCell.html#4beadb7f65c3d4c6da19599fc716ca82">CCR</a>, <a class="code" href="classrmCell.html#25afd4a04cddee31b1f8cc55378a1025">ER</a>;
<a name="l00439"></a>00439 };  <span class="comment">//tolua_export</span>
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="comment">// =============================================================================</span>
<a name="l00442"></a>00442 <span class="comment">//      AAL5 cells with payload</span>
<a name="l00443"></a>00443 <span class="comment">// =============================================================================</span>
<a name="l00444"></a>00444 <span class="comment">//tolua_begin</span>
<a name="l00445"></a><a class="code" href="classaal5Cell.html">00445</a> <span class="keyword">class </span><a class="code" href="classaal5Cell.html">aal5Cell</a>: <span class="keyword">public</span> <a class="code" href="classcell.html">cell</a> {
<a name="l00446"></a>00446 <span class="keyword">public</span>:
<a name="l00447"></a>00447   <span class="comment">//tolua_end</span>
<a name="l00448"></a>00448   
<a name="l00449"></a>00449   <a class="code" href="classaal5Cell.html#704cb17215d27f6cfb308b745a8ef5dd">BASECLASS</a>(<a class="code" href="classcell.html">cell</a>);
<a name="l00450"></a>00450   <a class="code" href="classaal5Cell.html#cb6a050d9e0c211272ec078981bbc060">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b0b0d1d9215b8fea2f6d50383661650c0">AAL5CellType</a>);
<a name="l00451"></a>00451   <a class="code" href="classaal5Cell.html#34881ff7a0be45e807112303e16f9bff">NEW_DELETE</a>(1000);     <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00452"></a>00452   <a class="code" href="classaal5Cell.html#b71a7cd79ad7c70e8abe81d90cba0b16">CLONE</a>(<a class="code" href="classaal5Cell.html">aal5Cell</a>);
<a name="l00453"></a>00453   
<a name="l00454"></a>00454   <span class="comment">//tolua_begin</span>
<a name="l00455"></a><a class="code" href="classaal5Cell.html#8c7f02855307cad5df6d3af76a4913af">00455</a>   <span class="keyword">inline</span> <a class="code" href="classaal5Cell.html#8c7f02855307cad5df6d3af76a4913af">aal5Cell</a>(<span class="keywordtype">int</span> i): <a class="code" href="classcell.html">cell</a>(i) {}
<a name="l00456"></a><a class="code" href="classaal5Cell.html#580de1aae1866b0a37681792bd937493">00456</a>   <span class="keywordtype">size_t</span>        <a class="code" href="classaal5Cell.html#580de1aae1866b0a37681792bd937493">pdu_len</a>() {
<a name="l00457"></a>00457     <span class="keywordflow">return</span> 53;  
<a name="l00458"></a>00458   }
<a name="l00459"></a><a class="code" href="classaal5Cell.html#157ebdaffc250182110785bb4e30c403">00459</a>   <span class="keywordtype">int</span> <a class="code" href="classaal5Cell.html#157ebdaffc250182110785bb4e30c403">sdu_seq</a>;  <span class="comment">// sequence number of AAL SDU</span>
<a name="l00460"></a><a class="code" href="classaal5Cell.html#c70ff2491d8300fd542bc90e9a346c1d">00460</a>   <span class="keywordtype">int</span> <a class="code" href="classaal5Cell.html#c70ff2491d8300fd542bc90e9a346c1d">cell_seq</a>; <span class="comment">// sequence number of cell</span>
<a name="l00461"></a><a class="code" href="classaal5Cell.html#30cc3684f807da29311089fd2b820db4">00461</a>   <span class="keywordtype">int</span> <a class="code" href="classaal5Cell.html#30cc3684f807da29311089fd2b820db4">first_cell</a>;       <span class="comment">// sequence number of first cell in AAL SDU</span>
<a name="l00462"></a><a class="code" href="classaal5Cell.html#2a631686a9e3ea84fa227ba8f96c2ae3">00462</a>   <span class="keywordtype">int</span> <a class="code" href="classaal5Cell.html#2a631686a9e3ea84fa227ba8f96c2ae3">pt</a>;               <span class="comment">// 1: end of message</span>
<a name="l00463"></a>00463 };
<a name="l00464"></a>00464 <span class="comment">//tolua_end</span>
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="comment">// =============================================================================</span>
<a name="l00467"></a>00467 <span class="comment">//      DQDB: DQDB-TimeSlot </span>
<a name="l00468"></a>00468 <span class="comment">// =============================================================================</span>
<a name="l00469"></a><a class="code" href="classdqdbSlot.html">00469</a> <span class="keyword">class </span><a class="code" href="classdqdbSlot.html">dqdbSlot</a>: <span class="keyword">public</span> <a class="code" href="classcell.html">cell</a> {
<a name="l00470"></a>00470 <span class="keyword">public</span>:
<a name="l00471"></a>00471   <a class="code" href="classdqdbSlot.html#f59464868fe3051704c5cdcbf1635bda">BASECLASS</a>(<a class="code" href="classcellPayl.html">cellPayl</a>);
<a name="l00472"></a>00472   <a class="code" href="classdqdbSlot.html#f782940472a5a7ddc3dc713e04db0a76">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b6d648409c67db6e5122a6b52e9e70a6a">DQDBSlotType</a>);
<a name="l00473"></a>00473   <a class="code" href="classdqdbSlot.html#24e5f0fcda1ca8c36ad37b721ce76737">NEW_DELETE</a>(1000);     
<a name="l00474"></a>00474   
<a name="l00475"></a><a class="code" href="classdqdbSlot.html#22b9d77100c13ebe26366826f7313848">00475</a>   <span class="keyword">inline</span> <a class="code" href="classdqdbSlot.html#22b9d77100c13ebe26366826f7313848">dqdbSlot</a>(<span class="keywordtype">int</span> i): <a class="code" href="classcell.html">cell</a>(i) {}
<a name="l00476"></a>00476   <span class="comment">// logical length of DQDB-Slot: 53 or 69 bytes</span>
<a name="l00477"></a><a class="code" href="classdqdbSlot.html#e1f8dc51e4f2b3de6b1002cd17eb2f35">00477</a>   <span class="keywordtype">size_t</span> <a class="code" href="classdqdbSlot.html#e1f8dc51e4f2b3de6b1002cd17eb2f35">pdu_len</a>() {
<a name="l00478"></a>00478     <span class="keywordflow">return</span> 69;  
<a name="l00479"></a>00479   }
<a name="l00480"></a>00480   <a class="code" href="classdqdbSlot.html#eb0b06f52abe923854c0f7e830cad91f">CLONE</a>(<a class="code" href="classdqdbSlot.html">dqdbSlot</a>);
<a name="l00481"></a>00481         
<a name="l00482"></a><a class="code" href="classdqdbSlot.html#08c6ef54d00a11348de09040ee505a46">00482</a>   <span class="keywordtype">int</span> <a class="code" href="classdqdbSlot.html#08c6ef54d00a11348de09040ee505a46">connID</a>;           <span class="comment">// segment adress write in from segment source </span>
<a name="l00483"></a>00483                         <span class="comment">// used to selected reciving DPDU-segments</span>
<a name="l00484"></a><a class="code" href="classdqdbSlot.html#527548d89bb4faafcf072a917a860979">00484</a>   <span class="keywordtype">int</span> <a class="code" href="classdqdbSlot.html#527548d89bb4faafcf072a917a860979">slot_type</a>;        <span class="comment">// QA-Slot or PA-slot</span>
<a name="l00485"></a><a class="code" href="classdqdbSlot.html#f057402fd791a84c0c0f1d4f7ff09284">00485</a>   <span class="keywordtype">int</span> <a class="code" href="classdqdbSlot.html#f057402fd791a84c0c0f1d4f7ff09284">busy</a>;             <span class="comment">// busy PA-Slot or Free Slot</span>
<a name="l00486"></a><a class="code" href="classdqdbSlot.html#7f8735877510d37b84d32abfb52e9f38">00486</a>   <span class="keywordtype">int</span> <a class="code" href="classdqdbSlot.html#7f8735877510d37b84d32abfb52e9f38">req</a>;              <span class="comment">// lowest Request-bit(0) from Downstrem</span>
<a name="l00487"></a>00487         
<a name="l00488"></a>00488         
<a name="l00489"></a>00489 };
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 <span class="comment">// =============================================================================</span>
<a name="l00492"></a>00492 <span class="comment">//      DQDB: DMPDU use as segment payload in DQDB-TimeSlot</span>
<a name="l00493"></a>00493 <span class="comment">// =============================================================================</span>
<a name="l00494"></a><a class="code" href="classdmpduSeg.html">00494</a> <span class="keyword">class </span><a class="code" href="classdmpduSeg.html">dmpduSeg</a>: <span class="keyword">public</span>  <a class="code" href="classdata.html">data</a> {
<a name="l00495"></a>00495 <span class="keyword">public</span>:
<a name="l00496"></a>00496   <a class="code" href="classdmpduSeg.html#bcf9a154245701839345b2ce7aa89418">BASECLASS</a>(<a class="code" href="classdata.html">data</a>);
<a name="l00497"></a>00497   <a class="code" href="classdmpduSeg.html#ea2ebfe5faa9eb70fc302f0309ecd5c5">CLASS_KEY</a>(<a class="code" href="data_8h.html#4f9bf48cebc5c0160a65b41e1e71ba7b72961e5bcd20be0a83bdd8b0e58cd2b6">DMPDUSegType</a>);
<a name="l00498"></a>00498   <a class="code" href="classdmpduSeg.html#20af318b7641ff1b7e5f612dbcacfdbe">NEW_DELETE</a>(10000);    <span class="comment">// the pool member has to be defined in data.c</span>
<a name="l00499"></a>00499   
<a name="l00500"></a>00500   <span class="comment">// to ensure that every segment object has a valid segmment adress member:</span>
<a name="l00501"></a><a class="code" href="classdmpduSeg.html#68261ef5146830e4386bddf0eda78f05">00501</a>   <span class="keyword">inline</span>        <a class="code" href="classdmpduSeg.html#68261ef5146830e4386bddf0eda78f05">dmpduSeg</a>(<span class="keywordtype">int</span> i) { <a class="code" href="classdmpduSeg.html#95c6b42ff723b3fb349040acc95e1f4a">connID</a> = i;   }
<a name="l00502"></a>00502   
<a name="l00503"></a>00503   <span class="comment">// logical length of DMPDUsegment: 48 or 64 bytes</span>
<a name="l00504"></a><a class="code" href="classdmpduSeg.html#d4c7806427e0caf0a49affc5df2c81ef">00504</a>   <span class="keywordtype">size_t</span> <a class="code" href="classdmpduSeg.html#d4c7806427e0caf0a49affc5df2c81ef">pdu_len</a>() {
<a name="l00505"></a>00505     <span class="keywordflow">return</span> 64;
<a name="l00506"></a>00506   }
<a name="l00507"></a>00507   <a class="code" href="classdmpduSeg.html#2b6ed08d1e1b2308dff3d0214e21dd3b">CLONE</a>(<a class="code" href="classdmpduSeg.html">dmpduSeg</a>);
<a name="l00508"></a>00508 
<a name="l00509"></a><a class="code" href="classdmpduSeg.html#32c2e6073eb27f76b979ce10e28cbd6b">00509</a>   <span class="keywordtype">int</span> <a class="code" href="classdmpduSeg.html#32c2e6073eb27f76b979ce10e28cbd6b">sdu_seq</a>;  <span class="comment">// sequence number of MAC SDU</span>
<a name="l00510"></a><a class="code" href="classdmpduSeg.html#84a75b132ee959b32a416bbab79fb332">00510</a>   <span class="keywordtype">int</span> <a class="code" href="classdmpduSeg.html#84a75b132ee959b32a416bbab79fb332">seg_seq</a>;  <span class="comment">// sequence number of segment</span>
<a name="l00511"></a><a class="code" href="classdmpduSeg.html#38a14386a3a721a46a5654a06a9df201">00511</a>   <span class="keywordtype">int</span> <a class="code" href="classdmpduSeg.html#38a14386a3a721a46a5654a06a9df201">first_seg</a>;        <span class="comment">// sequence number of first cell in MAC SDU</span>
<a name="l00512"></a><a class="code" href="classdmpduSeg.html#b4564714b0639657a7b74688a25c813a">00512</a>   <span class="keywordtype">int</span> <a class="code" href="classdmpduSeg.html#b4564714b0639657a7b74688a25c813a">pt</a>;               <span class="comment">// 1: end of message</span>
<a name="l00513"></a><a class="code" href="classdmpduSeg.html#95c6b42ff723b3fb349040acc95e1f4a">00513</a>   <span class="keywordtype">int</span> <a class="code" href="classdmpduSeg.html#95c6b42ff723b3fb349040acc95e1f4a">connID</a>;           <span class="comment">// internal  adress of DMPDU_segment</span>
<a name="l00514"></a>00514 };
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="comment">// =============================================================================</span>
<a name="l00517"></a>00517 <span class="comment">//      Registration of data classes</span>
<a name="l00518"></a>00518 <span class="comment">// =============================================================================</span>
<a name="l00519"></a>00519 <span class="comment">//tolua_begin</span>
<a name="l00520"></a><a class="code" href="data_8h.html#5e28cef0d2508875791465734676af03">00520</a> <span class="keyword">inline</span>  <span class="keywordtype">void</span>    <a class="code" href="data_8h.html#5e28cef0d2508875791465734676af03">data_classes</a>(<span class="keywordtype">void</span>)
<a name="l00521"></a>00521 {
<a name="l00522"></a>00522   <span class="comment">// the class data is predefined with the name "Data"</span>
<a name="l00523"></a>00523   <span class="comment">// !! follow the declaration order in enum dat_typ !!</span>
<a name="l00524"></a>00524   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classcell.html">cell</a>, <span class="stringliteral">"Cell"</span>);
<a name="l00525"></a>00525   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classcellPayl.html">cellPayl</a>, <span class="stringliteral">"CellPayload"</span>);
<a name="l00526"></a>00526   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classcellSeq.html">cellSeq</a>, <span class="stringliteral">"CellSequence"</span>);
<a name="l00527"></a>00527   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classframe.html">frame</a>, <span class="stringliteral">"Frame"</span>);
<a name="l00528"></a>00528   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classtcpipFrame.html">tcpipFrame</a>, <span class="stringliteral">"TCPIPFrame"</span>);
<a name="l00529"></a>00529   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classtcpAck.html">tcpAck</a>, <span class="stringliteral">"TCPAcknowledge"</span>);
<a name="l00530"></a>00530   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classrmCell.html">rmCell</a>, <span class="stringliteral">"RMCell"</span>);
<a name="l00531"></a>00531   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classaal5Cell.html">aal5Cell</a>, <span class="stringliteral">"AAL5Cell"</span>);
<a name="l00532"></a>00532   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classframeSeq.html">frameSeq</a>, <span class="stringliteral">"FrameSeq"</span>);
<a name="l00533"></a>00533   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classisaFrame.html">isaFrame</a>, <span class="stringliteral">"IsabelFrame"</span>);
<a name="l00534"></a>00534   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classdqdbSlot.html">dqdbSlot</a>, <span class="stringliteral">"DQDBSlot"</span>);
<a name="l00535"></a>00535   <a class="code" href="defs_8h.html#332449a5e4093e524b4703dbd5b91b5a">DATA_CLASS</a>(<a class="code" href="classdmpduSeg.html">dmpduSeg</a>, <span class="stringliteral">"DMPDUSeg"</span>);
<a name="l00536"></a>00536 }
<a name="l00537"></a>00537 <span class="comment">//tolua_end</span>
<a name="l00538"></a>00538 <span class="preprocessor">#endif  // _DATA_H_</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jul 11 23:30:53 2009 for Luayats by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
